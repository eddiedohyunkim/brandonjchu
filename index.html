<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>BRANDON J. CHU</title>
	<link rel="stylesheet" type="text/css" href="assets/css/reset.css">
	<link rel="stylesheet" type="text/css" href="assets/css/font.css">
	<style type="text/css">
		html{
			font-size: 14px;
		}
		@media all and (max-width: 48em) { 
			html{ 
				font-size: 14px;
			} 
		}
		@media all and (max-width: 36em) { 
			html{ 
				font-size: 12px;
			} 
		}
		body{
			font-family: 'Arial_Narrow_Bold';
			-webkit-font-smoothing:antialiased;
			text-rendering: optimizeLegibility;
			font-size: 1rem;
			line-height: 1.2;
			margin:1rem;
			text-transform: uppercase;
		}
		body > header{
  			position: sticky;
			top: 1rem;
			width:100%;
/*  			flex-direction: row;*/
/*  			flex-wrap: nowrap;*/
/*  			gap:0.25rem;*/
  			margin-bottom: 1.2rem;
  			z-index:99999;
  		}

  		main{
  			display: flex;
  			flex-direction: column;
  			gap:4rem;
  			margin-bottom: 2rem;
  		}

  		section > header{
			margin-bottom: 1rem;
			display: flex;
			flex-direction: column;
			gap: 1.2rem;
		}
		section > header > .header1{
			display: flex;
			justify-content: space-between;
		}

		section > header > .header1 .back{
			display: none;
			cursor:pointer;
			height:fit-content;
		}


		section > header details.dropdown{
			display: none;
		}
		section > header h2{
			display: block;
		} 


		section > header > .header2{
			display: none;
		}

		.vertical > header > .header2{
			display: block;
		}

		.vertical > header > .header2 > p{
			max-width: 32rem;
		}


		.vertical > header nav{
			display: flex;
			gap:0.2rem;
		}

		.vertical > header nav > span{
			display: inline-block;
			width:1.2rem;
			line-height: 1.2rem;
			text-align: center;
/*			border:1px solid transparent;*/
		}

		.vertical > header nav > span.currentIndex{
/*			border: 1px solid;*/
			background-color: black;
			color:white;
		}



		.vertical > header details.dropdown{
			display: block;
		}
		.vertical > header h2{
			display: none;
		} 

		.vertical > header details.dropdown[open] + h3{
			display: none;
		}


		/*	white */

		body > header details,
		.vertical > header details summary,
		.vertical > header details li,
		.vertical > header .back,
		.vertical > header h3,
		.vertical > header nav,
		.vertical > header .fullCaption{
			width: fit-content;
			background-color: white;
		}

		.vertical > header .fullCaption{
/*			border-bottom: 1px solid white;*/
		}

		.vertical > header .fullCaption .arrRight{
			display: none;
		}



		/*body > header.vertical{
			top:0;
			padding-top: 1rem;
		}

		body > header.vertical, 
		.vertical > header{
			background-color: white;
		}*/






		.vertical header{
			position: sticky;
			top:4.6rem;
/*			background-color: #fff;*/
		}

		.vertical header > .header1 .back{
			display: block;
		}




  		.imgGrid{
  			display: grid;
  			grid-template-columns:repeat(auto-fill, minmax(20rem, 1fr));
  			grid-gap: 1rem;
			
  			margin-bottom: 1rem;
  		}
  		@media all and (max-width: 58rem) { 
			.imgGrid{ 
				grid-template-columns:repeat(3, 1fr);
			} 
		}
  		.captions{
    		margin-left: 1rem;
  		}
  		/*@media all and (max-width: 36rem) { 
			.captions{
				margin-left: 0;
			}
		}*/



		

		.vertical .imgGrid{
			grid-template-columns:1fr;
			grid-gap:3rem;
		}

		.vertical figure{
			width:100%;
/*			height:calc(100vh - 6rem);*/
		}

		.vertical figure div{
/*			height:calc(100% - 3.6rem);*/
			aspect-ratio: auto;
		}

		.vertical figure figcaption{
			text-align: left;
			display: none;
		}

		.vertical ol.captions {
			display: none;
		}

		.vertical figure img{
			height:calc(100vh - 10rem);
  		}







		figure > div{
			aspect-ratio: 1 / 1;
			width:100%;
			max-width: 100%;
			background-color: white;
		}


		.imgGrid {
  			counter-reset: index;
		}		
		.imgGrid figcaption::before {
		  counter-increment: index;
		  content: counter(index);
/*		  font-family: Arial;*/
/*		  font-weight: bold;*/
		}
  		.imgGrid figcaption{
			margin-top: 1.2rem;
			text-align: center;
			min-height: 2.4rem;
  		}

  		.imgGrid figcaption .fullCaption{
  			display: none;
  		}

  		.vertical figcaption .fullCaption{
  			display: inline-block;
  		}
  		.vertical figcaption::before{
			content: counter(index)'.';
			width: 1.75rem;
			display: inline-block;
		}

  		figure img{
  			display: block;
  			object-fit: contain;
  			width: 100%;
  			height:100%;
    		max-width: 100%;
    		max-height: 100%;
  		}
  		figure a:hover{
  			opacity: 1;
  		}



		/* general typography */
		
		/*summary:hover:after{
			opacity: 0.5;
		}*/
		
		summary:hover > a{
			opacity: 1;
		}
  		ol{
  			list-style-type: none;
			counter-reset: index;
		}
		ol li{ 
			position: relative;
			counter-increment: index;
			padding-left: 1.75rem;
		}
		
		ol li:before{ 
			position: absolute;
			content: counter(index) ".";
			margin-left: -1.75rem;
/*			font-family: Arial;*/
/*			font-weight: bold;*/
		}

  		details summary{
  			width:fit-content;
  			cursor: pointer;
  		}
		details summary::-webkit-details-marker {
			display:none;
		}
		details > summary:first-of-type {
			list-style-type: none;
		}
		@media all and (max-width: 32rem) { 

		}
		
		summary:after, .arrDown:after{
			content:'▼';
/*			font-family: 'arrow';*/
			display: inline-block;
			-webkit-text-stroke-width: 1px;
			-webkit-text-stroke-color: #000;
			color:transparent;
/*			transform-origin: 0 0.4rem;*/
			margin: 0 0 0 0.2rem;
			font-size: 12px;
			vertical-align: 1px;
/*			transform-origin: center;*/
/*			transform: scaleX(0.75);*/
		}

		@media all and (max-width: 36em) { 
			summary:after, .arrDown:after{
				font-size: 10px;
				vertical-align: 1px;
			} 
		}

		details[open] summary:after{
/*			content:'△';*/
			content:'▲';
		}

		.arrRight:after{
			content:'►';
/*			content:'▷';*/
			display: inline-block;
			margin: 0 0rem 0 0.3rem;
			-webkit-text-stroke-width: 1px;
			-webkit-text-stroke-color: #000;
			color:transparent;
/*			transform-origin: 0 0.4rem;*/
			font-size: 12px;
			vertical-align: 1px;
/*			transform: scaleX(1.2);*/
		}

		@media all and (max-width: 36em) { 
			.arrRight:after{
				font-size: 10px;
				vertical-align: 1px;
			} 
		}

		sub{
			font-size: 0.8rem;
		}




		.dropdown > summary:after{
			font-family: 'Arial_Narrow';
			content:'+';
			font-size: 1rem;
			line-height: 10px;
			width:11px;
			text-align: center;
			-webkit-text-stroke-width: 0;
			vertical-align: 0;
			color:inherit;
			border:1px solid;
			margin-left: 0.2rem;
		}
		
		@media all and (max-width: 36em) { 
			.dropdown > summary:after{
				line-height: 8px;
				width:9px;
			}
		}

		.dropdown > ul{
			list-style-type: none;
		}

		.dropdown ul li{
			width:fit-content;
		}

		.dropdown ul > li:before{
			font-family: 'Arial_Narrow';
			content:'+';
			font-size: 1rem;
			display: inline-block;
			line-height: 10px;
			width:11px;
			text-align: center;
			color: transparent;
			border:1px solid #000;
			margin-right: 0.2rem;
		}

		@media all and (max-width: 36em) { 
			.dropdown ul > li:before{
				line-height: 8px;
				width:9px;
			}
		}

		.dropdown ul > li.current:before{
			background-color: #000;
		}

		.dropdown ul > li:hover:before{
			background-color: #000;
		}


		
		body > header > .dropdown *{
			display: inline;
		} 
		.dropdown[open] summary:after{
			content:'−';
		}
	</style>
</head>
<body>
	<header>
		<details class="dropdown" id="brandon">
  			<summary><a href="/">Brandon J.&thinsp;Chu</a></summary>
  			<div>
  				<span>is a fashion designer in New York, New York.</span> <br>
  				<!-- <span>
  					<a href="mailto:brandon@brandonjchu.com" target="_blank">Email</a>, 
					<a href="https://www.instagram.com/brandonjchu/" target="_blank">Instagram</a>, 
  					<a href="https://www.linkedin.com/in/brandon-j-chu/" target="_blank">linkedIn</a>, 
  					<a href="assets/Brandon_J_Chu_Resume.pdf" target="_blank">Resume.pdf</a>
  				</span> -->
  			</div>
		</details>
		<details class="dropdown">
			<summary>Contact</summary>
			<div>
				<span>
  					<a href="mailto:brandon@brandonjchu.com" target="_blank">Email</a>, 
					<a href="https://www.instagram.com/brandonjchu/" target="_blank">Instagram</a>, 
  					<a href="https://www.linkedin.com/in/brandon-j-chu/" target="_blank">linkedIn</a>, 
  					<a href="assets/Brandon_J_Chu_Resume.pdf" target="_blank">Resume.pdf</a>
  				</span>
  			</div>
		</details>
	</header>

	<main>
	<section data-project="Homme Body" data-year="2023" id="homme-body-editorial">
		<header>
			<div class="header1">
				<div>
					<h2>Collection</h2>	
					<details class="dropdown">
						<summary>Collection</summary>
						<ul>
							
						</ul>
					</details>
					<h3><span class="arrRight">Homme Body, 2023</span>Editorial</h3>
				</div>
				<span class="back">Back</span>
			</div>
			<div class="header2">
				<nav></nav>
				<p></p>
			</div>
		</header>
		<div class="imgGrid">
			<figure>
				<div>
					<a href="homme-body-editorial">
						<img src="assets/images/homme_body-2023/editorial/PAYUSU_HEAD-SHOT--Shot_by_Phi_Vu.webp">
					</a>
				</div>
				<figcaption></figcaption>
			</figure>
			<figure>
				<div>
					<a href="homme-body-editorial">
						<img src="assets/images/homme_body-2023/editorial/PAYUSU_PROFILE-SHOT--Shot_by_Phi_Vu.webp">
					</a>
				</div>
				<figcaption></figcaption>
			</figure>
			<figure>
				<div>
					<a href="homme-body-editorial">
						<img src="assets/images/homme_body-2023/editorial/TIMOTHY_HEAD-SHOT--Shot_by_Phi_Vu.webp">
					</a>
				</div>
				<figcaption></figcaption>
			</figure>
			<figure>
				<div>
					<a href="homme-body-editorial">
						<img src="assets/images/homme_body-2023/editorial/TIMOTHY_PROFILE-SHOT--Shot_by_Phi_Vu.webp">
					</a>
				</div>
				<figcaption></figcaption>
			</figure>
			<figure>
				<div>
					<a href="homme-body-editorial">
						<img src="assets/images/homme_body-2023/editorial/PAYUSU_IN_DOUBLE-BREASTED_JACKET--Shot_by_Didier_Osias.webp">
					</a>
				</div>
				<figcaption></figcaption>
			</figure>
			<figure>
				<div>
					<a href="homme-body-editorial">
						<img src="assets/images/homme_body-2023/editorial/ROSS_IN_Y-COLLAR_DOUBLE-BREASTED_JACKET_1--Shot_by_Didier_Osias.webp">
					</a>
				</div>
				<figcaption></figcaption>
			</figure>
			<figure>
				<div>
					<a href="homme-body-editorial">
						<img src="assets/images/homme_body-2023/editorial/ROSS_IN_Y-COLLAR_DOUBLE-BREASTED_JACKET_2--Shot_by_Didier_Osias.webp">
					</a>
				</div>
				<figcaption></figcaption>
			</figure>
			<figure>
				<div>
					<a href="homme-body-editorial">
						<img src="assets/images/homme_body-2023/editorial/PAYUSU_IN_IKE_JACKET_1--Shot_by_Didier_Osias.webp">
					</a>
				</div>
				<figcaption></figcaption>
			</figure>
			<figure>
				<div>
					<a href="homme-body-editorial">
						<img src="assets/images/homme_body-2023/editorial/PAYUSU_IN_IKE_JACKET_2--Shot_by_Didier_Osias.webp">
					</a>
				</div>
				<figcaption></figcaption>
			</figure>
			<figure>
				<div>
					<a href="homme-body-editorial">
						<img src="assets/images/homme_body-2023/editorial/TIMOTHY_IN_DROPPED_SHOULDER_SINGLE-BREASTED_JACKET--Shot_by_Phi_Vu.webp">
					</a>
				</div>
				<figcaption></figcaption>
			</figure>
			<figure>
				<div>
					<a href="homme-body-editorial">
						<img src="assets/images/homme_body-2023/editorial/ROSS_IN_ALPACA_WOOL_SWEATER_AND_SILK-WAISTBAND_BELT_TROUSERS--Shot_by_Phi_Vu.webp">
					</a>
				</div>
				<figcaption></figcaption>
			</figure>
			<figure>
				<div>
					<a href="homme-body-editorial">
						<img src="assets/images/homme_body-2023/editorial/PAYUSU_IN_WHITE_COTTON_UNDERSHIRT_WITH_DOUBLE_PLEATED_SHORTS--Shot_by_Phi_Vu.webp">
					</a>
				</div>
				<figcaption></figcaption>
			</figure>
			<figure>
				<div>
					<a href="homme-body-editorial">
						<img src="assets/images/homme_body-2023/editorial/Cortez_Derby_1_in_collaboration_with_Batrachotoxin.webp">
					</a>
				</div>
				<figcaption></figcaption>
			</figure>
			<figure>
				<div>
					<a href="homme-body-editorial">
						<img src="assets/images/homme_body-2023/editorial/Cortez_Derby_2_in_collaboration_with_Batrachotoxin.webp">
					</a>
				</div>
				<figcaption></figcaption>
			</figure>
		</div>
	</section>
	
	<section data-project="Homme Body" data-year="2023" id="homme-body-lookbook">
		<header>
			<div class="header1">
				<div>
					<h2>Collection</h2>	
					<details class="dropdown">
						<summary>Collection</summary>
						<ul>
							
						</ul>
					</details>
					<h3><span class="arrRight">Homme Body, 2023</span>Lookbook</h3>
				</div>
				<span class="back">Back</span>
			</div>
			<div class="header2">
				<nav></nav>
				<p></p>
			</div>
		</header>
		<div class="imgGrid">
			<figure>
				<div>
					<a href="homme-body-lookbook">
						<img src="assets/images/homme_body-2023/lookbook/Look_1_-_Black_Double-Breasted_Jacket_with_Black_Double_Pleated_Trousers--Shot_by_Phi_Vu.webp">
					</a>
				</div>
				<figcaption></figcaption>
			</figure>
			<figure>
				<div>
					<a href="homme-body-lookbook">
						<img src="assets/images/homme_body-2023/lookbook/Look_2_-_Navy_Y-Collar_Double-Breasted_Jacket_with_Navy_CF_Pleated_Trousers--Shot_by_Phi_Vu.webp">
					</a>
				</div>
				<figcaption></figcaption>
			</figure>
			<figure>
				<div>
					<a href="homme-body-lookbook">
						<img src="assets/images/homme_body-2023/lookbook/Look_3_-_Navy_Military_Ike_Jacket_with_Black_Flared_Trousers--Shot_by_Phi_Vu.webp">
					</a>
				</div>
				<figcaption></figcaption>
			</figure>
			<figure>
				<div>
					<a href="homme-body-lookbook">
						<img src="assets/images/homme_body-2023/lookbook/Look_4_-_Black_Dropped_Shoulder_Single-Breasted_Jacket_with_Black_Double_Pleated_Trousers--Shot_by_Phi_Vu.webp">
					</a>
				</div>	
				<figcaption></figcaption>
			</figure>
			<figure>
				<div>
					<a href="homme-body-lookbook">
						<img src="assets/images/homme_body-2023/lookbook/Look_5_-_Black_One-Button_Flannel_Jacket_with_Black_Silk-Waistband_Belt_Trousers--Shot_by_Phi_Vu.webp">
					</a>
				</div>
				<figcaption></figcaption>
			</figure>
			<figure>
				<div>
					<a href="homme-body-lookbook">
						<img src="assets/images/homme_body-2023/lookbook/Look_6_-_Black_Alpaca_Wool_Sweater_with_Black_Silk-Waistband_Belt_Trousers--Shot_by_Phi_Vu.webp">
					</a>
				</div>
				<figcaption></figcaption>
			</figure>
			<figure>
				<div>
					<a href="homme-body-lookbook">
						<img src="assets/images/homme_body-2023/lookbook/Look_7_-_Navy_Alpaca_Wool_Sweater_with_Black_CF_Pleated_Trousers--Shot_by_Phi_Vu.webp">
					</a>
				</div>
				<figcaption></figcaption>
			</figure>
			<figure>
				<div>
					<a href="homme-body-lookbook">
						<img src="assets/images/homme_body-2023/lookbook/Look_8_-_White_Cotton_Undershirt_with_Black_Double_Pleated_Shorts--Shot_by_Phi_Vu.webp">
					</a>
				</div>
				<figcaption></figcaption>
			</figure>
		</div>
	</section>

	<section data-project="Sketchbook" data-year="2023" id="sketchbook-2023">
		<header>
			<div class="header1">
				<div>
					<h2>Collection</h2>	
					<details class="dropdown">
						<summary>Collection</summary>
						<ul>
							
						</ul>
					</details>
					<h3><span class="arrRight">Sketchbook, 2023</span>Portfolio</h3>
				</div>
				<span class="back">Back</span>
			</div>
			<div class="header2">
				<nav></nav>
				<p></p>
			</div>
		</header>
		<div class="imgGrid">
			<figure>
				<div>
					<a href="sketchbook">
						<img src="assets/images/sketchbook-2023/Double-Breasted_Jacket_Pattern_Sketch.webp">
					</a>
				</div>
				<figcaption></figcaption>
			</figure>
			<figure>
				<div>
					<a href="sketchbook">
						<img src="assets/images/sketchbook-2023/Lapel_Study_1_-_Double_Breasted_Jacket.webp">
					</a>
				</div>
				<figcaption></figcaption>
			</figure>
			<figure>
				<div>
					<a href="sketchbook">
						<img src="assets/images/sketchbook-2023/Ike_Jacket_Pattern_Sketch.webp">
					</a>
				</div>
				<figcaption></figcaption>
			</figure>
			<figure>
				<div>
					<a href="sketchbook">
						<img src="assets/images/sketchbook-2023/Lapel_Study_2_-_Ike_Jacket.webp">
					</a>
				</div>
				<figcaption></figcaption>
			</figure>
			<figure>
				<div>
					<a href="sketchbook">
						<img src="assets/images/sketchbook-2023/Fitting_Process_1.webp">
					</a>
				</div>
				<figcaption></figcaption>
			</figure>
			<figure>
				<div>
					<a href="sketchbook">
						<img src="assets/images/sketchbook-2023/Fitting_Process_2.webp">
					</a>
				</div>
				<figcaption></figcaption>
			</figure>
			<figure>
				<div>
					<a href="sketchbook">
						<img src="assets/images/sketchbook-2023/Fitting_Process_3.webp">
					</a>
				</div>
				<figcaption></figcaption>
			</figure>
			<figure>
				<div>
					<a href="sketchbook">
						<img src="assets/images/sketchbook-2023/Technical_Illustrations_-_Tops.svg">
					</a>
				</div>
				<figcaption></figcaption>
			</figure>
			<figure>
				<div>
					<a href="sketchbook">
						<img src="assets/images/sketchbook-2023/Technical_Illustrations_-_Bottoms.svg">
					</a>
				</div>
				<figcaption></figcaption>
			</figure>

		</div>
	</section>

	<section data-project="Riverside" data-year="2022" id="1905-riverside-editorial-lookbook">
		<header>
			<div class="header1">
				<div>
					<h2>Collection</h2>	
					<details class="dropdown">
						<summary>Collection</summary>
						<ul>
							
						</ul>
					</details>
					<h3><span class="arrRight">1905 Riverside, 2022</span>Editorial&VeryThinSpace;/&VeryThinSpace;Lookbook</h3>
				</div>
				<span class="back">Back</span>
			</div>
			<div class="header2">
				<nav></nav>
				<p></p>
			</div>
		</header>
		<div class="imgGrid">
			<figure>
				<div>
					<a href="1905-riverside-editorial-lookbook">
						<img src="assets/images/1905_riverside-2022/lookbook-editorial/DOUBLET_COLLAR--Shot_by_ASHLEY_ZHANG.webp">
					</a>
				</div>
				<figcaption></figcaption>
			</figure>
			<figure>
				<div>
					<a href="1905-riverside-editorial-lookbook">
						<img src="assets/images/1905_riverside-2022/lookbook-editorial/PEDRO_IN_DOUBLET_COLLAR_SHIRT--Shot_by_TOMMY_PARK.webp">
					</a>
				</div>
				<figcaption></figcaption>
			</figure>
			<figure>
				<div>
					<a href="1905-riverside-editorial-lookbook">
						<img src="assets/images/1905_riverside-2022/lookbook-editorial/DOUBLET_SLEEVE--Shot_by_ASHLEY_ZHANG.webp">
					</a>
				</div>
				<figcaption></figcaption>
			</figure>
			<figure>
				<div>
					<a href="1905-riverside-editorial-lookbook">
						<img src="assets/images/1905_riverside-2022/lookbook-editorial/LOOK_1_-_BLACK_DOUBLET_SLEEVE_SINGLE-BREASTED_JACKET_WITH_DOUBLE_PLEATED_TROUSERS_1--Shot_by_ASHLEY_ZHANG.webp">
					</a>
				</div>
				<figcaption></figcaption>
			</figure>
			<figure>
				<div>
					<a href="1905-riverside-editorial-lookbook">
						<img src="assets/images/1905_riverside-2022/lookbook-editorial/LOOK_1_-_BLACK_DOUBLET_SLEEVE_SINGLE-BREASTED_JACKET_WITH_DOUBLE_PLEATED_TROUSERS_2--Shot_by_ASHLEY_ZHANG.webp">
					</a>
				</div>
				<figcaption></figcaption>
			</figure>
			<figure>
				<div>
					<a href="1905-riverside-editorial-lookbook">
						<img src="assets/images/1905_riverside-2022/lookbook-editorial/LOOK_2_-_WHITE_DOUBLET_COLLAR_SHIRT_WITH_BLACK_DOUBLE_PLEATED_TROUSERS--Shot_by_ASHLEY_ZHANG.webp">
					</a>
				</div>
				<figcaption></figcaption>
			</figure>
			<figure>
				<div>
					<a href="1905-riverside-editorial-lookbook">
						<img src="assets/images/1905_riverside-2022/lookbook-editorial/LOOK_3_-_WHITE_WRAPPED_DOUBLET_COLLAR_SHIRT_WITH_BLACK_DOUBLE_PLEATED_TROUSERS--Shot_by_ASHLEY_ZHANG.webp">
					</a>
				</div>
				<figcaption></figcaption>
			</figure>
		</div>
	</section>
	</main>
	<script type="text/javascript">


		// IF page is loaded with #Fragment in url
		window.addEventListener('load', function(){
			hash()
		})

		// IF there is #Fragment change in url
		window.addEventListener('hashchange', function(){
      		hash()
    	});

    	function hash(){
    		if(window.location.hash) {
  				// #Fragment exists
				let allSections = document.querySelectorAll('section');
				allSections.forEach((section)=>{
					section.classList.add('vertical');
				})
				document.querySelector('body > header').classList.add('vertical');

				document.querySelector(window.location.hash).scrollIntoView();

				let observer = new IntersectionObserver(observeImgs, {
					root: null,   // default is the viewport
					threshold: 0.5 // percentage of target's visible area
				},)
	
				function observeImgs(entries, opts){
					entries.forEach(entry => {
						let currentImg = entry.target;
						let section = currentImg.closest('section');
						let figure = currentImg.closest('figure');
						let total = section.querySelectorAll('figure');
						let index = [ ...total ].indexOf(figure);

						let indexIs = section.querySelectorAll('nav > span')[index];
						let captionIs = section.querySelector('.header2 p');
						let caption = figure.querySelector('figcaption').innerHTML;

	
						if(entry.isIntersecting){
							let allPrevious = document.querySelectorAll('.currentIndex');
							if(allPrevious !== null){
								allPrevious.forEach((previous)=>{
									previous.classList.remove('currentIndex');
								})
							}

							indexIs.classList.add('currentIndex');
							captionIs.innerHTML = caption;
						}
	
					})
				}
	
				document.querySelectorAll('.imgGrid img').forEach((entry) => {
					observer.observe(entry);
				});

			} else {
  				// #Fragment doesn't exist
  				let verticals = document.querySelectorAll('.vertical');
  				verticals.forEach((vertical)=>{
  					vertical.classList.remove('vertical');
  				});
			}
    	}
			

		back()
		function back(){
			let backButtons = document.querySelectorAll('.back');
			backButtons.forEach((backButton)=>{
				backButton.addEventListener('click', function(){
					let section = backButton.closest('section');
					section.classList.remove('vertical');
					removeUrlFragment()
				});
			});
		}


		function removeUrlFragment(){
			window.location.replace("#");
			if (typeof window.history.replaceState == 'function') {
				history.replaceState({}, '', window.location.href.slice(0, -1));
			}
		}


		const allSections = document.querySelectorAll('main > section');
		allSections.forEach((section)=>{
			generateCaptions(section)
			generateIdNHref(section)
			generateNav(section)
		})

		function generateNav(section){
			let imgGrid = section.querySelector('.imgGrid');
			let allFigures = imgGrid.querySelectorAll('figure');
			let nav = section.querySelector('header nav');
			for(let i=0; i<allFigures.length; i+=1){
				let index = document.createElement('span');
				index.innerHTML = i+1;
				nav.appendChild(index);
			}
		}
		

		generateDropDown()
		function generateDropDown(){
			let allSections1 = document.querySelectorAll('main > section');
			allSections1.forEach((section)=>{
				let dropdown = section.querySelector('header details.dropdown ul');
				let allSections = document.querySelectorAll('main > section');
				// console.log('#'+firstImg.id);
				allSections.forEach((sect)=>{
					let list = document.createElement('li');
					
					// let firstImg = sect.querySelectorAll('img')[0];
					// let firstImg = sect.id;

					let linksToSection = document.createElement('a');
					
					linksToSection.href = "#" + sect.id; 
					linksToSection.innerHTML = sect.querySelector('header h3').innerHTML;
					if(linksToSection.innerHTML == section.querySelector('header h3').innerHTML){
						list.className = 'current';
					}
					list.appendChild(linksToSection);
					dropdown.appendChild(list);
				})
			})
		}

		function generateCaptions(section){
			let captionArr = getCaptions(section);

			// create caption <ol>
			let captionOl = document.createElement('ol');
			captionOl.className = 'captions';

			// create caption <li>
			for(let i=0; i<captionArr.length; i+=1){
				let caption = document.createElement('li');

				let project = document.createElement('span');
				project.className = 'arrRight'
				project.innerHTML = captionArr[i][0];
				caption.appendChild(project);

				let name = document.createElement('span');
				name.innerHTML = captionArr[i][1] + ' ';
				caption.appendChild(name);

				let photoBy = document.createElement('sub');
				photoBy.innerHTML = captionArr[i][2];
				caption.appendChild(photoBy);

				captionOl.appendChild(caption);
			}

			// create same figcaption
			let imgGrid = section.querySelector('.imgGrid');
			let figures = imgGrid.querySelectorAll('figure');
			for(let i=0; i<figures.length; i+=1){
				let figcaption = figures[i].querySelector('figcaption');
				let fullCaption = document.createElement('span');
				fullCaption.className = 'fullCaption';

				let project = document.createElement('span');
				project.className = 'arrRight'
				project.innerHTML = captionArr[i][0];
				fullCaption.appendChild(project);

				let name = document.createElement('span');
				name.innerHTML = captionArr[i][1] + ' ';
				fullCaption.appendChild(name);

				let photoBy = document.createElement('sub');
				photoBy.innerHTML = captionArr[i][2];
				fullCaption.appendChild(photoBy);

				figcaption.appendChild(fullCaption);
			}

			
			section.appendChild(captionOl);
		}

		function generateIdNHref(section){
			const allImgs = [...section.getElementsByTagName('img')];
			allImgs.forEach((img) => {
				let path = img.src;
				let filename = path.replace(/^.*[\\\/]/, '').split(".")[0];
				filename = filename.toLowerCase();
				if ( filename.includes('shot_by') ){
					split = filename.split('--');
					filename = split[0];
				}

				let project = section.dataset.project.toLowerCase();
				project = project.replace(/ /g, '_');

				// img id
				img.id = project + '_' + filename;

				// a href
				let a = img.closest('a');
				a.href = '#' + project + '_' + filename;
			});
		}

		function getCaptions(section){
			let project = section.dataset.project+', '+section.dataset.year;
			let arr = [];
			const allImgs = [...section.getElementsByTagName('img')];
			allImgs.forEach((img) => {
				// CAPTION
				let path = img.src;
				// remove file path, extension from src 
				let filename = path.replace(/^.*[\\\/]/, '').split(".")[0];
				
				// change '_-_' to ': '
				filename = filename.replace(/_-_/g, ': ');

				// change hyphens to spaces
				filename = filename.replace(/_/g, ' ');
				

				// PHOTOGRAPHER: must be after "shot by"
				filename = filename.toLowerCase();
				let photoCredit = ''
				if ( filename.includes('shot by') ){
					split = filename.split('--');
					filename = split[0];
					photoCredit = split[1];
				}
				arr.push([project, filename, photoCredit]);
			});
			return arr;
		}
	</script>
</body>
</html>